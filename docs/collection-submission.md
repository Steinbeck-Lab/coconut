
# Submitting a Collection

Submitting a collection of compounds to the COCONUT platform is a two-step process:

1. **Creation of a Collection**
2. **Uploading Compounds into the Created Collection**

## Step 1: Creation of a Collection

Before uploading a compound collection onto the COCONUT platform, you need to create a collection.

1. **Login to your COCONUT account.**
2. **Navigate to the Collections Section:**
   - On the left pane, select **"Collections."**
3. **Create a New Collection:**
   - Inside the Collections page, click the **"New Collection"** button at the top right.
4. **Fill the "Create Collection" Form:**
   - **Title:** Provide a title for the collection.
   - **Slug:** Auto-generated by the COCONUT platform. No need to fill this field.
   - **Description:** Provide a description of this collection of compounds.
   - **URL:** If the collection is from a source available online, provide the URL *(for reference for our Curators, this does not import the compounds onto COCONUT).*
   - **Tags:** Enter comma-separated keywords to identify this collection during searches.
   - **Identifier:** Provide a unique identifier for the collection.
   - **License:** Choose a license from the dropdown menu.
5. **Submit the Form:**
   - Click **"Create"** to create the collection or **"Create & create another"** if you have another collection to submit.

This creates an empty collection. To upload molecules/compounds, proceed with the steps below.

## Step 2: Uploading Compounds into the Created Collection

After creating an empty collection, an **"Entries"** pane becomes available at the bottom.

1. **Initiate the Import Process:**
   - Click on **"Import Entries"** on the left of the "Entries" pane.
2. **Download the Template:**
   - In the pop-up window, download the template CSV file, which specifies the fields expected by COCONUT in a comma-separated format. Provide the following details for each molecule:
     - **canonical_smiles:** Canonical SMILES notation of the chemical structure.
     - **reference_id:** Reference ID as reported in a source database/dataset.
     - **name:** IUPAC name/trivial name as reported in the original publication or source.
       > **Example:** [9-fluoro-11-hydroxy-17-(2-hydroxyacetyl)-10,13,16-trimethyl-3-oxo-6,7,8,11,12,14,15,16-octahydrocyclopenta[a]phenanthren-17-yl] pentanoate
     - **synonyms:** Alternative names or synonyms for the compound, separated by pipe (|) characters.
       > **Example:** Aspirin|Acetylsalicylic acid|2-Acetoxybenzoic acid
     - **doi:** DOI of the original publication where the molecule is first reported.
       > **Example:** doi.org/10.1021/ci5003697
     - **link:** Database link of the molecule.
     - **organism:** Scientific name of the organism in which the compound is found.
       > **Example:** Tanacetum parthenium
     - **organism_part:** The part of the organism in which the compound is found.
       > **Example:** Eyes
     - **COCONUT_id:** Auto-generated by the COCONUT platform. No need to fill this field.
     - **mol_filename:** If a 2D/3D molfile is present for the given molecule, mention its name.
     - **structural_comments:** Comments regarding the structure, if any.
     - **geo_location:** Geographical location where this molecule is found.
       > **Example:** Rajahmundry, India
     - **location:** Specific location within the geographical area where the molecule is found.
       > **Example:** Air, Water, Soil, etc.
3. **Upload the CSV File:**
   - In the same pop-up window from step 2, click **"Upload the CSV"** file with all the details of the compounds. Choose the file.
4. **Verify Column Mapping:**
   - The pop-up window will show expected columns on the right and detected columns from the CSV file on the left. Ensure the mapping is correct. Use the dropdowns for any corrections and click **"Import."**
   > **Tip:** If you have already uploaded the CSV file before and made changes to the details of molecules in the CSV file and want to upload the modified CSV file, you need to choose **"Update existing records"** so that the respective molecules will get updated with the new data provided.
5. **Start the Import Process:**
   - You should see an **"Import started"** notification at the top left.
   > **Note for Local Development:** Start Laravel Horizon to process the queued compounds:
   ```bash
   sail artisan horizon
6. **Check the Import Status:**
   - Once the processing completes, you should see the compounds listed along with their status **"SUBMITTED."**
   > **Warning:** For statuses other than **"SUBMITTED,"** recheck the corresponding compound's details in the CSV and re-upload it, repeating step 4.

7. **Process the Compounds:**
   - Even if one compound in the uploaded list has the status **"SUBMITTED,"** you will see the **"Process"** button along with the **"Import entries"** button. Click this to process the submitted compounds.

8. **Complete the Processing:**
   - Wait for the processing to finish. The status updates to **"PASSED"** for successfully processed entries and **"REJECTED"** for those that failed processing.
     - For successfully processed compounds, check the **"Citations"** and **"Molecules"** tabs to ensure everything is properly processed.
     - The **"Audits"** tab will have a trail of who did what and when on the Collection.
     > **Warning:** For failed entries, recheck the corresponding compound's details in the CSV and re-upload it, repeating step 4.

9. **Publish the Compounds:**
    - If at least one compound passed the process, you will see the **"Publish"** button. Clicking this will publish the compounds that passed processing.
    > **Info:** After publishing, the collection status changes from **"DRAFT"** to **"PUBLISHED."** Only the compounds with status **"PASSED"** will be visible to everyone on the COCONUT platform.
